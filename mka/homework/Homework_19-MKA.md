## Разработать микросервисную архитектуру для игры Танки

Разбиваем на доменные области 
![Доменная область](/resources/domain_field.png)

Описание доменной области
---
<span style="color:yellow">Игрок</span> регистрируется на сервисе регистрации.

<span style="color:yellow">Игрок</span> в игровом меню выбирает игру в рамках <span style="color:yellow">турнира</span> или между пользователями(<span style="color:yellow">pvp</span>).

<span style="color:yellow">Игрок</span> может посмотреть список будущих <span style="color:yellow">турниров</span>.

<span style="color:yellow">Игрок</span> может подать заявку на участие в <span style="color:yellow">турнире</span>

<span style="color:yellow">Игрок</span> может посмотреть <span style="color:yellow">результаты</span> проходящих и прошедших <span style="color:yellow">турниров</span>.

<span style="color:yellow">Игрокам</span> приходит <span style="color:yellow">оповещение</span> о приглашение на <span style="color:yellow">турнир</span>,

<span style="color:yellow">Игрокам</span> приходит оповещение решение по заявке на участие в <span style="color:yellow">турнире</span>,

<span style="color:yellow">Игрокам</span> приходит <span style="color:yellow">оповещение</span> о завершении танкового боя, о скором начале стартового боя.

<span style="color:yellow">Вид оповещения</span> может выбираться настройках

<span style="color:yellow">Игрок</span> получает <span style="color:yellow">рейтинговые очки </span> за места в <span style="color:yellow">турнире</span>, 
которые видны в профиле <span style="color:yellow">профиле игрока</span>

<span style="color:yellow">Игрок</span> может организовать свой <span style="color:yellow">турнир</span>

<span style="color:yellow">Турниры</span> получают рейтинг на основе рейтингов ее участников

<span style="color:yellow">Турнир</span> может быть регулярным и накапливать рейтинг

Диаграмма микросервисов
![Диаграмма микросервисов](/resources/mka_scheme.png)


**Микросервисы** :

1. Service Authorization
2. Service Gateway
3. Service GameProfile
4. ServiceTanks (игровой движок на котором и происходят бои и определяются места по завершению боя)
5. Service Tournaments
6. Service PvP
7. Service Notifications

**Определить узкие места и потенциальные проблемы масштабирования приложения и способы их решения.**

При росте нагрузки нужно будет добавить мониторинг на наш микросервис для отслеживания «жизненных» параметров и нахождению узких мест. 
Также надо будет продумать трассировку логов. Большая нагрузка ляжет на сервис Танки. Соотвественно настроить Resilence4j и CirkuitBreaker, 
чтобы в случае недоступности сервиса пользователю показывалась картинка с ожиданием. Возможно для снижения нагрзуки на Базу можно будет 
кешировать определенные данные. Так в Сервисе Турнир можно прошедшие турниры закешировать. Или как вариант сделать партицию на базу 
по месяцам чтобы не тянуть всю базу каждый раз.

**Определить компоненты, к которым чаще всего будут меняться требования и способы выполнения OCP для них.**

Наиболее часто могут менять правила игры в Танки. Чтобы каждый раз не переписывать код, можно использовать Шаблон расширяемая фабрика (будущий контейнер бинов) 
и добавлять туда новые команды (GameCommand) в которых можно описать сколько снарядов, топлива, размер карты и т.д. будет использовано в данной игре.
В сервисе Турнир чтобы не быть привязанным к конкретной MessageSystem, можно применить паттерн Декоратор.

---
